{{ define "title" }}{{ .Site.Title }} â€” Weekly Tracker{{ end }}

{{ define "main" }}
  <div class="tracker-container">
    <div class="tracker-header">
      <h2>Weekly Tracker</h2>
      <p class="week-label" id="week-label">Week: --</p>
      <button id="export-btn" class="btn btn-export">Export Log</button>
    </div>

    {{ $days := slice "monday" "tuesday" "wednesday" "thursday" "friday" }}
    {{ $dayLabels := slice "Monday" "Tuesday" "Wednesday" "Thursday" "Friday" }}

    {{ range $i, $dayKey := $days }}
      {{ $workoutData := index site.Data.workouts $dayKey }}
      {{ $label := index $dayLabels $i }}

      <div class="tracker-day" data-day="{{ $dayKey }}">
        <h3>
          <a href="/days/{{ $dayKey }}/">{{ $label }}</a>
          <span class="day-focus">{{ $workoutData.subtitle }}</span>
        </h3>
        <div class="tracker-exercises">
          {{ range $workoutData.exercises }}
            <div class="tracker-exercise">
              <label class="tracker-exercise-label">
                <input type="checkbox" class="exercise-checkbox"
                       data-day="{{ $dayKey }}"
                       data-exercise="{{ .id }}">
                <span class="exercise-name">{{ .name }}</span>
              </label>
              {{ if .tracked }}
                <div class="tracker-inputs">
                  <select class="exercise-weight" data-day="{{ $dayKey }}" data-exercise="{{ .id }}">
                    <option value="">kg</option>
                    {{ range seq 0 200 }}
                      <option value="{{ . }}">{{ . }}kg</option>
                    {{ end }}
                  </select>
                  <select class="exercise-rpe" data-day="{{ $dayKey }}" data-exercise="{{ .id }}">
                    <option value="">RPE</option>
                    {{ range seq 1 10 }}
                      <option value="{{ . }}">{{ . }}</option>
                    {{ end }}
                  </select>
                </div>
              {{ end }}
            </div>
          {{ end }}
        </div>
      </div>
    {{ end }}
  </div>
{{ end }}
